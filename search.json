[{"path":[]},{"path":[]},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-the-eurostat-api-is-returning-empty-data-or-timing-out--what-should-i-do","dir":"Articles","previous_headings":"Frequently Asked Questions > Data Fetching","what":"Q: The Eurostat API is returning empty data or timing out. What should I do?","title":"FAQ & Troubleshooting","text":"Eurostat bulk download API can intermittent. localintel built-mitigation: problems persist, try clearing Eurostat cache:","code":"# get_nuts_level_robust() retries with different cache strategies data <- get_nuts_level_robust(\"hlth_rs_bdsrg2\", level = 2, years = 2010:2024)  # get_nuts_level_safe() goes further — returns an empty tibble instead of # erroring, so batch operations don't break on one failed dataset data <- get_nuts_level_safe(\"hlth_rs_bdsrg2\", level = 2, years = 2010:2024) eurostat::clean_eurostat_cache()"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-why-does-fetch_eurostat_batch-take-so-long","dir":"Articles","previous_headings":"Frequently Asked Questions > Data Fetching","what":"Q: Why does fetch_eurostat_batch() take so long?","title":"FAQ & Troubleshooting","text":"dataset requires separate API call. typical set 5–8 health datasets, expect 1–3 minutes depending connection Eurostat server load. Tips faster workflows: Save fetched data locally export_to_rds() first fetch Load disk subsequent runs instead re-fetching Use narrower year ranges exploring","code":"# First run — fetch and save data_list <- fetch_eurostat_batch(health_system_codes(), level = 2, years = 2010:2024) export_to_rds(data_list, \"data/raw_eurostat.rds\")  # Subsequent runs — load from disk data_list <- readRDS(\"data/raw_eurostat.rds\")"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-can-i-fetch-data-at-nuts3-level","dir":"Articles","previous_headings":"Frequently Asked Questions > Data Fetching","what":"Q: Can I fetch data at NUTS3 level?","title":"FAQ & Troubleshooting","text":"Yes, coverage sparse NUTS3 health datasets. Use get_nuts_level() level = 3: aware cascading functions designed NUTS0 → NUTS1 → NUTS2 hierarchy don’t currently cascade NUTS3.","code":"nuts3_data <- get_nuts_level(\"hlth_rs_bdsrg2\", level = 3, years = 2015:2024)"},{"path":[]},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-my-dataset-isnt-one-of-the-pre-built-process_-functions--how-do-i-handle-it","dir":"Articles","previous_headings":"Frequently Asked Questions > Data Processing","what":"Q: My dataset isn’t one of the pre-built process_* functions. How do I handle it?","title":"FAQ & Troubleshooting","text":"process_* functions convenience wrappers common Eurostat datasets. custom dataset, can process manually following pattern: key requirement downstream functions tibble geo (NUTS code), year (integer), one numeric value columns.","code":"library(dplyr)  custom <- raw_data %>%   # Filter to the specific indicator/unit you need   filter(unit == \"P_HTHAB\", sex == \"T\") %>%   # Standardize time column   standardize_time() %>%   # Select and rename   select(geo, year, my_variable = values) %>%   # Filter to EU27   keep_eu27()"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-what-does-merge_datasets-actually-do","dir":"Articles","previous_headings":"Frequently Asked Questions > Data Processing","what":"Q: What does merge_datasets() actually do?","title":"FAQ & Troubleshooting","text":"performs sequential full_join geo year. means: geo-year combinations datasets preserved Missing values become NA dataset doesn’t cover particular region year data dropped","code":""},{"path":[]},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-how-does-cascading-decide-which-level-to-use","dir":"Articles","previous_headings":"Frequently Asked Questions > Cascading","what":"Q: How does cascading decide which level to use?","title":"FAQ & Troubleshooting","text":"cascade follows priority order: NUTS2 > NUTS1 > NUTS0. region-year combination: NUTS2 value exists, use (source = 2) Else, parent NUTS1 value, use (source = 1) Else, country (NUTS0) value, use (source = 0) level data, value remains NA src_<variable> column tracks level value came .","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-is-cascading-appropriate-for-my-analysis","dir":"Articles","previous_headings":"Frequently Asked Questions > Cascading","what":"Q: Is cascading appropriate for my analysis?","title":"FAQ & Troubleshooting","text":"Cascading makes strong assumption: parent-level value reasonable proxy sub-regions. often fine national indicators (e.g., country-level physician density applied regions), may misleading highly variable metrics. Check source-level distribution assess much cascading occurred: >50% values cascaded NUTS0, consider whether NUTS2-level analysis appropriate variable.","code":"cascaded %>%   count(src_beds) %>%   mutate(pct = n / sum(n) * 100)"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-what-are-da-and-rlos","dir":"Articles","previous_headings":"Frequently Asked Questions > Cascading","what":"Q: What are DA and rLOS?","title":"FAQ & Troubleshooting","text":"derived indicators computed full cascade: DA (Discharge Activity): log2(discharges) / log2(beds). Values near 1 indicate hospitals used proportionally capacity. Higher values suggest intensive use. rLOS (Relative Length Stay): regional_LOS / national_LOS. value 1.0 means region matches national average. Values >1 indicate longer--average stays. require disch_inp, beds, los columns input data.","code":""},{"path":[]},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-why-do-some-countries-appear-as-a-single-block-on-the-map","dir":"Articles","previous_headings":"Frequently Asked Questions > Visualization","what":"Q: Why do some countries appear as a single block on the map?","title":"FAQ & Troubleshooting","text":"design. country reports NUTS0 (country level), build_display_sf() function uses national boundary polygon. map shows “best available resolution” per country: Countries NUTS2 data → detailed regional polygons Countries NUTS1 → major-region polygons Countries NUTS0 → single country polygon","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-how-do-i-change-the-color-palette","dir":"Articles","previous_headings":"Frequently Asked Questions > Visualization","what":"Q: How do I change the color palette?","title":"FAQ & Troubleshooting","text":"plot_best_by_country_level() function uses tmap internally. can modify colors passing tmap-compatible palette arguments. control, build sf object build_display_sf() create tmap ggplot2 visualization.","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-can-i-create-maps-with-ggplot2-instead-of-tmap","dir":"Articles","previous_headings":"Frequently Asked Questions > Visualization","what":"Q: Can I create maps with ggplot2 instead of tmap?","title":"FAQ & Troubleshooting","text":"Yes. Use build_display_sf() get spatial data, plot spatial visualization library:","code":"library(ggplot2) library(sf)  sf_data <- build_display_sf(cascaded, geopolys, var = \"beds\", years = 2022:2022)  ggplot(sf_data) +   geom_sf(aes(fill = beds), color = \"white\", size = 0.1) +   scale_fill_viridis_c(option = \"magma\", na.value = \"grey90\") +   theme_minimal() +   labs(title = \"Hospital Beds per 100,000 (2022)\")"},{"path":[]},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-the-geojson-file-is-very-large--how-can-i-reduce-it","dir":"Articles","previous_headings":"Frequently Asked Questions > Export","what":"Q: The GeoJSON file is very large. How can I reduce it?","title":"FAQ & Troubleshooting","text":"Large GeoJSON files usually caused high-resolution geometries. Options: Use simplified geometries (Eurostat API supports resolution parameter) Export fewer years variables Use sf::st_simplify() export:","code":"sf_data_simple <- sf::st_simplify(sf_data, dTolerance = 5000) export_to_geojson(sf_data_simple, \"output/simplified.geojson\")"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-how-do-i-use-the-exported-geojson-in-tableau","dir":"Articles","previous_headings":"Frequently Asked Questions > Export","what":"Q: How do I use the exported GeoJSON in Tableau?","title":"FAQ & Troubleshooting","text":"Open Tableau Desktop Connect Spatial file data source Select .geojson file enriched fields (country_name, region_name, performance_tag, etc.) appear dimensions measures","code":""},{"path":[]},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-im-getting-crs-coordinate-reference-system-errors","dir":"Articles","previous_headings":"Frequently Asked Questions > Spatial Data","what":"Q: I’m getting CRS (Coordinate Reference System) errors","title":"FAQ & Troubleshooting","text":"localintel uses EPSG:4326 (WGS84) throughout, standard web mapping Tableau. ’re combining data different CRS:","code":"# Transform to match localintel's CRS other_data <- sf::st_transform(other_data, 4326)"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-the-sf-package-wont-install","dir":"Articles","previous_headings":"Frequently Asked Questions > Spatial Data","what":"Q: The sf package won’t install","title":"FAQ & Troubleshooting","text":"sf package depends system libraries (GDAL, GEOS, PROJ). Ubuntu: macOS Homebrew: Windows, bundled binary package CRAN.","code":"sudo apt-get install libudunits2-dev libgdal-dev libgeos-dev libproj-dev brew install gdal geos proj udunits"},{"path":[]},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-which-eu-countries-are-included","dir":"Articles","previous_headings":"Frequently Asked Questions > General","what":"Q: Which EU countries are included?","title":"FAQ & Troubleshooting","text":"eu27_codes() function returns current EU27 member states (post-Brexit). Use keep_eu27() filter dataset:","code":"eu27_codes() # \"AT\" \"BE\" \"BG\" \"CY\" \"CZ\" \"DE\" \"DK\" \"EE\" \"EL\" \"ES\" \"FI\" \"FR\" # \"HR\" \"HU\" \"IE\" \"IT\" \"LT\" \"LU\" \"LV\" \"MT\" \"NL\" \"PL\" \"PT\" \"RO\" # \"SE\" \"SI\" \"SK\"  # Filter to EU27 + optionally include NO, CH, UK filtered <- keep_eu27(data, extras = c(\"NO\", \"CH\"))"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/faq.html","id":"q-how-do-i-cite-localintel","dir":"Articles","previous_headings":"Frequently Asked Questions > General","what":"Q: How do I cite localintel?","title":"FAQ & Troubleshooting","text":"","code":"@software{localintel,   author = {Htitich, Mohamed},   title = {localintel: Local Intelligence for Subnational Data Analysis},   year = {2025},   url = {https://github.com/MohamedHtitich1/localintel} }"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/localintel.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Getting Started with localintel","text":"localintel (Local Intelligence) R package fetching, processing, visualizing subnational (NUTS 0/1/2) data Eurostat. provides complete pipeline raw Eurostat data publication-ready maps Tableau-ready exports.","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/articles/localintel.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started with localintel","text":"Install localintel GitHub:","code":"# install.packages(\"devtools\") devtools::install_github(\"MohamedHtitich1/localintel\") library(localintel)"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/localintel.html","id":"step-1-fetch-data-from-eurostat","dir":"Articles","previous_headings":"","what":"Step 1: Fetch Data from Eurostat","title":"Getting Started with localintel","text":"package provides pre-defined code lists common health system datasets. Use fetch_eurostat_batch() download multiple datasets : can also fetch individual datasets control:","code":"# View available dataset codes codes <- health_system_codes() print(codes)  # Fetch all datasets at NUTS2 level data_list <- fetch_eurostat_batch(codes, level = 2, years = 2010:2024)  # Remove any datasets that returned empty data_list <- drop_empty(data_list) # Fetch a single dataset beds_raw <- get_nuts_level_robust(\"hlth_rs_bdsrg2\", level = 2, years = 2010:2024)"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/localintel.html","id":"step-2-process-datasets","dir":"Articles","previous_headings":"","what":"Step 2: Process Datasets","title":"Getting Started with localintel","text":"Eurostat dataset dedicated processing function filters correct indicators reshapes data: Combine processed datasets single table:","code":"beds       <- process_beds(data_list$beds) physicians <- process_physicians(data_list$physicians) los        <- process_los(data_list$los) disch_inp  <- process_disch_inp(data_list$disch_inp) all_data <- merge_datasets(beds, physicians, los, disch_inp)"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/localintel.html","id":"step-3-get-reference-data","dir":"Articles","previous_headings":"","what":"Step 3: Get Reference Data","title":"Getting Started with localintel","text":"Reference geometries lookup tables needed cascading mapping:","code":"# NUTS2 reference table (maps NUTS2 codes to parent NUTS1/NUTS0) nuts2_ref <- get_nuts2_ref()  # Combined NUTS 0/1/2 boundary geometries geopolys <- get_nuts_geopolys()"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/localintel.html","id":"step-4-cascade-data-to-nuts2","dir":"Articles","previous_headings":"","what":"Step 4: Cascade Data to NUTS2","title":"Getting Started with localintel","text":"every region reports data NUTS2 level. cascade functions intelligently fill gaps propagating values parent NUTS levels: full cascade also computes derived indicators like Discharge Activity (DA) Relative Length Stay (rLOS): pre-computed scores just need cascading without indicator computation:","code":"NUTS0 (Country) → NUTS1 (Major Regions) → NUTS2 (Regions) cascaded <- cascade_to_nuts2_and_compute(   all_data,   vars = c(\"beds\", \"physicians\", \"los\"),   nuts2_ref = nuts2_ref,   years = 2010:2024 ) cascaded_light <- cascade_to_nuts2_light(   scored_data,   vars = c(\"score_health_outcome\"),   nuts2_ref = nuts2_ref,   years = 2010:2024 )"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/localintel.html","id":"step-5-visualize","dir":"Articles","previous_headings":"","what":"Step 5: Visualize","title":"Getting Started with localintel","text":"Create publication-ready maps automatically select best available NUTS level country:","code":"# Maps with consistent color scale across years plot_best_by_country_level(   cascaded, geopolys,   var = \"beds\",   years = 2020:2024,   title = \"Hospital Beds per 100,000\",   scale = \"global\" )  # Maps with per-year color scale plot_best_by_country_level(   cascaded, geopolys,   var = \"beds\",   years = 2020:2024,   title = \"Hospital Beds per 100,000\",   scale = \"per_year\" )"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/localintel.html","id":"step-6-export-for-tableau","dir":"Articles","previous_headings":"","what":"Step 6: Export for Tableau","title":"Getting Started with localintel","text":"Build enriched spatial datasets ready Tableau:","code":"# Single variable sf_data <- build_display_sf(cascaded, geopolys, var = \"beds\", years = 2010:2024) export_to_geojson(sf_data, \"output/beds_nuts2.geojson\")  # Multiple variables combined sf_all <- build_multi_var_sf(   cascaded, geopolys,   vars = c(\"beds\", \"physicians\", \"score_health_outcome\"),   years = 2010:2024,   var_labels = health_var_labels(),   pillar_mapping = health_pillar_mapping() )  # Enrich with population and performance tags pop_data    <- get_population_nuts2() nuts2_names <- get_nuts2_names() sf_enriched <- enrich_for_tableau(sf_all, pop_data, nuts2_names)  export_to_geojson(sf_enriched, \"tableau_export.geojson\")"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/localintel.html","id":"utility-functions","dir":"Articles","previous_headings":"","what":"Utility Functions","title":"Getting Started with localintel","text":"package includes several handy utilities:","code":"# Filter to EU27 countries only eu_data <- keep_eu27(all_data)  # Safe log transforms (handles NA and non-positive values) safe_log10(c(100, 0, NA, -5)) # [1] 2 NA NA NA  # Min-max normalization to 0-100 scale_0_100(c(10, 20, 30, 40, 50)) # [1]   0  25  50  75 100  # Linear interpolation with flags interp_const_ends_flag(c(1, NA, NA, 4, NA, 6))"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/localintel.html","id":"data-sources","dir":"Articles","previous_headings":"","what":"Data Sources","title":"Getting Started with localintel","text":"localintel works standard Eurostat datasets. See health_system_codes() causes_of_death_codes() full list pre-configured dataset identifiers.","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"End-to-End Health System Analysis","text":"","code":"library(localintel) library(dplyr)"},{"path":[]},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"understanding-the-data-model","dir":"Articles","previous_headings":"Phase 1: Data Acquisition","what":"Understanding the Data Model","title":"End-to-End Health System Analysis","text":"Eurostat organizes subnational statistics using NUTS classification: NUTS 0 — Country level (e.g., DE Germany) NUTS 1 — Major socio-economic regions (e.g., DE1 Baden-Württemberg) NUTS 2 — Basic regions (e.g., DE11 Stuttgart) countries report NUTS2 — publish NUTS0 NUTS1. localintel handles data cascading (Phase 3).","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"fetching-multiple-datasets","dir":"Articles","previous_headings":"Phase 1: Data Acquisition","what":"Fetching Multiple Datasets","title":"End-to-End Health System Analysis","text":"health_system_codes() function returns curated list Eurostat dataset identifiers health system analysis: Fetch . fetch_eurostat_batch() function calls Eurostat API sequence built-retry logic:","code":"codes <- health_system_codes() print(codes) # beds         physicians   disch_inp    disch_day    los # \"hlth_rs_bd…\" \"hlth_rs_ph…\" \"hlth_co_di…\" \"hlth_co_di…\" \"hlth_co_in…\" data_list <- fetch_eurostat_batch(codes, level = 2, years = 2010:2024)  # Remove any datasets that returned empty (API hiccups) data_list <- drop_empty(data_list)  # Check what we got sapply(data_list, nrow)"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"fetching-individual-datasets","dir":"Articles","previous_headings":"Phase 1: Data Acquisition","what":"Fetching Individual Datasets","title":"End-to-End Health System Analysis","text":"control, use get_nuts_level_robust() directly. function retries different cache strategies first attempt fails:","code":"# Fetch causes of death at NUTS2 cod_raw <- get_nuts_level_robust(\"hlth_cd_asdr2\", level = 2, years = 2010:2024)"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"phase-2-data-processing","dir":"Articles","previous_headings":"","what":"Phase 2: Data Processing","title":"End-to-End Health System Analysis","text":"Eurostat dataset structure (different filter variables, units, etc.). process_* functions handle specifics: function returns clean tibble standardized columns:","code":"beds       <- process_beds(data_list$beds) physicians <- process_physicians(data_list$physicians) los        <- process_los(data_list$los) disch_inp  <- process_disch_inp(data_list$disch_inp) disch_day  <- process_disch_day(data_list$disch_day)"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"merging","dir":"Articles","previous_headings":"Phase 2: Data Processing","what":"Merging","title":"End-to-End Health System Analysis","text":"Combine processed datasets single analysis-ready table: merge full outer join geo year, observations lost even datasets different coverage.","code":"all_data <- merge_datasets(beds, physicians, los, disch_inp, disch_day) glimpse(all_data)"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"phase-3-data-cascading","dir":"Articles","previous_headings":"","what":"Phase 3: Data Cascading","title":"End-to-End Health System Analysis","text":"core innovation localintel. Missing NUTS2 values filled cascading parent levels: example, Romania reports beds NUTS0, Romanian NUTS2 regions receive national value, src_level column record cascaded level 0.","code":"NUTS0 (Country) → NUTS1 (Major Region) → NUTS2 (Region)"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"getting-reference-data","dir":"Articles","previous_headings":"Phase 3: Data Cascading","what":"Getting Reference Data","title":"End-to-End Health System Analysis","text":"","code":"# Maps NUTS2 codes → parent NUTS1 → parent NUTS0 nuts2_ref <- get_nuts2_ref()  # NUTS boundary geometries for mapping geopolys <- get_nuts_geopolys()"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"running-the-cascade","dir":"Articles","previous_headings":"Phase 3: Data Cascading","what":"Running the Cascade","title":"End-to-End Health System Analysis","text":"full cascade also computes derived indicators: DA (Discharge Activity): log2(discharges) / log2(beds) — measure hospital utilization rLOS (Relative Length Stay): regional_LOS / national_LOS — region compares national average","code":"cascaded <- cascade_to_nuts2_and_compute(   all_data,   vars = c(\"beds\", \"physicians\", \"los\", \"disch_inp\"),   nuts2_ref = nuts2_ref,   years = 2010:2024 )  # Check the source levels cascaded %>%   count(src_beds) %>%   print() # src_beds     n # 0          xxx   <- cascaded from country level # 1          xxx   <- cascaded from NUTS1 # 2          xxx   <- original NUTS2 data"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"light-cascading","dir":"Articles","previous_headings":"Phase 3: Data Cascading","what":"Light Cascading","title":"End-to-End Health System Analysis","text":"pre-computed scores don’t need DA/rLOS, use lighter version:","code":"# If you already have composite scores cascaded_scores <- cascade_to_nuts2_light(   scored_data,   vars = c(\"score_health_outcome\", \"score_enabling_env\"),   nuts2_ref = nuts2_ref,   years = 2010:2024 )"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"phase-4-scoring-and-composite-indicators","dir":"Articles","previous_headings":"","what":"Phase 4: Scoring and Composite Indicators","title":"End-to-End Health System Analysis","text":"Transform raw values 0–100 scores compute composite indices:","code":"# Define transformations # \"neg\" = higher is worse, \"log\" = apply log transform, \"none\" = higher is better transforms <- c(   beds = \"none\",   physicians = \"none\",   los = \"neg\",       # longer stay = worse   disch_inp = \"log\"  # log-transform skewed distributions )  scored <- transform_and_score(cascaded, transforms)  # Compute a composite score (simple average) scored <- scored %>%   compute_composite(     score_cols = c(\"beds_score\", \"physicians_score\", \"los_score\"),     name = \"health_system_score\"   )"},{"path":[]},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"building-map-ready-data","dir":"Articles","previous_headings":"Phase 5: Visualization","what":"Building Map-Ready Data","title":"End-to-End Health System Analysis","text":"build_display_sf() joins data geometries selects best available NUTS level per country-year:","code":"sf_beds <- build_display_sf(   cascaded,   geopolys,   var = \"beds\",   years = 2020:2024 )"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"creating-maps","dir":"Articles","previous_headings":"Phase 5: Visualization","what":"Creating Maps","title":"End-to-End Health System Analysis","text":"","code":"# Consistent color scale across all years plot_best_by_country_level(   cascaded, geopolys,   var = \"beds\",   years = 2020:2024,   title = \"Hospital Beds per 100,000 Inhabitants\",   scale = \"global\" ) # Per-year color scale (emphasizes within-year variation) plot_best_by_country_level(   cascaded, geopolys,   var = \"physicians\",   years = 2020:2024,   title = \"Physicians per 100,000 Inhabitants\",   scale = \"per_year\" )"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"saving-maps-to-pdf","dir":"Articles","previous_headings":"Phase 5: Visualization","what":"Saving Maps to PDF","title":"End-to-End Health System Analysis","text":"","code":"save_maps_to_pdf(   cascaded, geopolys,   var = \"beds\",   years = 2015:2024,   file = \"maps/beds_2015_2024.pdf\",   title = \"Hospital Beds\" )"},{"path":[]},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"single-variable","dir":"Articles","previous_headings":"Phase 6: Tableau Export","what":"Single Variable","title":"End-to-End Health System Analysis","text":"","code":"sf_data <- build_display_sf(cascaded, geopolys, var = \"beds\", years = 2010:2024) export_to_geojson(sf_data, \"output/beds_nuts2.geojson\")"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"multi-variable-with-enrichment","dir":"Articles","previous_headings":"Phase 6: Tableau Export","what":"Multi-Variable with Enrichment","title":"End-to-End Health System Analysis","text":"comprehensive Tableau dashboard, combine multiple variables add contextual metadata:","code":"# Combine multiple variables sf_all <- build_multi_var_sf(   cascaded, geopolys,   vars = c(\"beds\", \"physicians\", \"DA\", \"rLOS\"),   years = 2010:2024,   var_labels = health_var_labels(),   pillar_mapping = health_pillar_mapping() )  # Add population, country names, and performance tags pop_data    <- get_population_nuts2() nuts2_names <- get_nuts2_names()  sf_enriched <- enrich_for_tableau(sf_all, pop_data, nuts2_names)  # The enriched data includes: # - country_name: full country name # - region_name: NUTS2 region name # - pop: population # - performance_tag: \"Best in Country\" / \"Worst in Country\" / NA  export_to_geojson(sf_enriched, \"output/health_system_complete.geojson\")"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"excel-export","dir":"Articles","previous_headings":"Phase 6: Tableau Export","what":"Excel Export","title":"End-to-End Health System Analysis","text":"non-spatial outputs:","code":"export_to_excel(cascaded, \"output/cascaded_data.xlsx\")"},{"path":"https://mohamedhtitich1.github.io/localintel/articles/workflow.html","id":"putting-it-all-together","dir":"Articles","previous_headings":"","what":"Putting It All Together","title":"End-to-End Health System Analysis","text":"’s complete pipeline one script:","code":"library(localintel)  # 1. Fetch codes     <- health_system_codes() data_list <- fetch_eurostat_batch(codes, level = 2, years = 2010:2024) %>%   drop_empty()  # 2. Process beds       <- process_beds(data_list$beds) physicians <- process_physicians(data_list$physicians) los        <- process_los(data_list$los) disch_inp  <- process_disch_inp(data_list$disch_inp) all_data   <- merge_datasets(beds, physicians, los, disch_inp)  # 3. Reference nuts2_ref <- get_nuts2_ref() geopolys  <- get_nuts_geopolys()  # 4. Cascade cascaded <- cascade_to_nuts2_and_compute(   all_data,   vars = c(\"beds\", \"physicians\", \"los\", \"disch_inp\"),   nuts2_ref = nuts2_ref,   years = 2010:2024 )  # 5. Visualize plot_best_by_country_level(   cascaded, geopolys,   var = \"beds\", years = 2020:2024,   title = \"Hospital Beds per 100,000\" )  # 6. Export sf_all <- build_multi_var_sf(   cascaded, geopolys,   vars = c(\"beds\", \"physicians\", \"DA\", \"rLOS\"),   years = 2010:2024,   var_labels = health_var_labels(),   pillar_mapping = health_pillar_mapping() ) sf_enriched <- enrich_for_tableau(   sf_all, get_population_nuts2(), get_nuts2_names() ) export_to_geojson(sf_enriched, \"health_system_dashboard.geojson\")"},{"path":"https://mohamedhtitich1.github.io/localintel/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Mohamed Htitich. Author, maintainer.","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Htitich M (2026). localintel: Local Intelligence - Subnational Data Pipeline Eurostat NUTS Regions. R package version 0.1.0, https://mohamedhtitich1.github.io/localintel/.","code":"@Manual{,   title = {localintel: Local Intelligence - Subnational Data Pipeline for Eurostat NUTS Regions},   author = {Mohamed Htitich},   year = {2026},   note = {R package version 0.1.0},   url = {https://mohamedhtitich1.github.io/localintel/}, }"},{"path":[]},{"path":"https://mohamedhtitich1.github.io/localintel/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"localintel – Subnational Data Pipeline for Eurostat NUTS Regions","text":"localintel (Local Intelligence) R package fetching, processing, visualizing subnational (NUTS 0/1/2) data Eurostat. provides comprehensive pipeline health system analysis across European regions, including:","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/index.html","id":"live-demo","dir":"","previous_headings":"","what":"Live Demo","title":"localintel – Subnational Data Pipeline for Eurostat NUTS Regions","text":"See localintel action — mhtitich.com/subnational interactive dashboard built entirely data processed package. maps health disparities across 235 European NUTS-2 regions 2010–2024, live indicator switching, animated timeline playback, AI-generated regional insights. pipeline fully parametrizable can adapted world subregion indicator domain. Interested custom deployment? Get touch.","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"localintel – Subnational Data Pipeline for Eurostat NUTS Regions","text":"","code":"# Install from GitHub # install.packages(\"devtools\") devtools::install_github(\"MohamedHtitich1/localintel\")"},{"path":"https://mohamedhtitich1.github.io/localintel/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"localintel – Subnational Data Pipeline for Eurostat NUTS Regions","text":"","code":"library(localintel)  # 1. Fetch health system data codes <- health_system_codes() data_list <- fetch_eurostat_batch(codes, level = 2, years = 2010:2024)  # 2. Process individual datasets beds <- process_beds(data_list$beds) physicians <- process_physicians(data_list$physicians) los <- process_los(data_list$los)  # 3. Merge into single dataset all_data <- merge_datasets(beds, physicians, los)  # 4. Get reference geometries nuts2_ref <- get_nuts2_ref() geopolys <- get_nuts_geopolys()  # 5. Cascade data to NUTS2 level with computed indicators cascaded <- cascade_to_nuts2_and_compute(   all_data,   vars = c(\"beds\", \"physicians\", \"los\"),   nuts2_ref = nuts2_ref,   years = 2010:2024 )  # 6. Create maps plot_best_by_country_level(   cascaded,   geopolys,   var = \"beds\",   years = 2020:2024,   title = \"Hospital Beds per 100,000\" )  # 7. Export for Tableau sf_data <- build_display_sf(cascaded, geopolys, var = \"beds\", years = 2010:2024) export_to_geojson(sf_data, \"output/beds_nuts2.geojson\")"},{"path":[]},{"path":"https://mohamedhtitich1.github.io/localintel/index.html","id":"data-cascading","dir":"","previous_headings":"Key Features","what":"Data Cascading","title":"localintel – Subnational Data Pipeline for Eurostat NUTS Regions","text":"package automatically fills missing regional data cascading parent NUTS levels: ensures complete coverage tracking original data source level.","code":"NUTS0 (Country) → NUTS1 (Major Regions) → NUTS2 (Regions)"},{"path":"https://mohamedhtitich1.github.io/localintel/index.html","id":"computed-indicators","dir":"","previous_headings":"Key Features","what":"Computed Indicators","title":"localintel – Subnational Data Pipeline for Eurostat NUTS Regions","text":"Built-computation key health system indicators:","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/index.html","id":"visualization","dir":"","previous_headings":"Key Features","what":"Visualization","title":"localintel – Subnational Data Pipeline for Eurostat NUTS Regions","text":"Automatic “best level” selection maps - displays NUTS2 available, falls back NUTS1/NUTS0:","code":"# Global color scale (consistent across years) plot_best_by_country_level(data, geopolys, var = \"beds\", scale = \"global\")  # Per-year color scale (highlights within-year variation) plot_best_by_country_level(data, geopolys, var = \"beds\", scale = \"per_year\")"},{"path":"https://mohamedhtitich1.github.io/localintel/index.html","id":"tableau-integration","dir":"","previous_headings":"Key Features","what":"Tableau Integration","title":"localintel – Subnational Data Pipeline for Eurostat NUTS Regions","text":"Full support Tableau exports : - Country names region labels - Population-weighted aggregations - Performance tags (Best/Worst country) - Multi-variable GeoJSON exports","code":"sf_all <- build_multi_var_sf(   cascaded, geopolys,   vars = c(\"beds\", \"physicians\", \"score_health_outcome\"),   years = 2010:2024,   var_labels = health_var_labels(),   pillar_mapping = health_pillar_mapping() )  sf_enriched <- enrich_for_tableau(sf_all, pop_data, nuts2_names) export_to_geojson(sf_enriched, \"tableau_export.geojson\")"},{"path":"https://mohamedhtitich1.github.io/localintel/index.html","id":"data-sources","dir":"","previous_headings":"","what":"Data Sources","title":"localintel – Subnational Data Pipeline for Eurostat NUTS Regions","text":"package works Eurostat datasets including: Health System Resources: - hlth_rs_bdsrg2 - Hospital beds - hlth_rs_physreg - Physicians Hospital Activity: - hlth_co_disch2t - -patient discharges - hlth_co_disch4t - Day-case discharges - hlth_co_inpstt - Length stay Health Outcomes: - hlth_cd_asdr2 - Standardised death rates - hlth_cd_ypyll - Potential years life lost - hlth_cd_yinfr - Infant mortality Health Perceptions: - hlth_silc_08_r - Unmet medical needs","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/index.html","id":"related-work","dir":"","previous_headings":"","what":"Related Work","title":"localintel – Subnational Data Pipeline for Eurostat NUTS Regions","text":"package developed part research subnational health system analysis Europe. Related projects: Subnational Health Disparities Map - Interactive dashboard powered localintel w2m - Composite indicator construction","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"localintel – Subnational Data Pipeline for Eurostat NUTS Regions","text":"Contributions welcome! Please open issue submit pull request.","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"localintel – Subnational Data Pipeline for Eurostat NUTS Regions","text":"MIT © Mohamed Htitich","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"localintel – Subnational Data Pipeline for Eurostat NUTS Regions","text":"","code":"@software{localintel,   author = {Htitich, Mohamed},   title = {localintel: Local Intelligence for Subnational Data Analysis},   year = {2025},   url = {https://github.com/MohamedHtitich1/localintel} }"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/build_display_sf.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualization Functions — build_display_sf","title":"Visualization Functions — build_display_sf","text":"Functions creating maps visualizations NUTS-level data. build_display_sf creates sf object selecting best available NUTS level country-year combination.","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/build_display_sf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualization Functions — build_display_sf","text":"","code":"build_display_sf(out_nuts2, geopolys, var, years = NULL,    skip_nuts0 = TRUE, scale = c(\"per_year\", \"global\")) lc_build_display_sf(out_nuts2, geopolys, var, years = NULL,    skip_nuts0 = TRUE, scale = c(\"per_year\", \"global\"), keep = NULL) plot_best_by_country_level(out_nuts2, geopolys, var, years = NULL,    skip_nuts0 = TRUE, scale = c(\"per_year\", \"global\"), title = NULL,    pdf_file = paste0(\"Map_\", var, \"_country_level_scaled.pdf\"),    bb_x = c(2400000, 7800000), bb_y = c(1320000, 5650000),    col_var = NULL, n_breaks = 7, breaks = NULL) build_multi_var_sf(out_nuts2, geopolys, vars, years = 2010:2024,    var_labels = NULL, pillar_mapping = NULL) level_col_for(var) level_cols_for(vars)"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/build_display_sf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualization Functions — build_display_sf","text":"out_nuts2 Dataframe cascaded NUTS2 data geopolys sf object NUTS geometries var Character string variable display vars Character vector variables years Integer vector years include skip_nuts0 Logical, whether skip NUTS0 level display scale Character, \"per_year\" \"global\" scaling keep Character vector additional columns preserve title Optional custom title pdf_file Optional PDF filename output bb_x Numeric vector x bounding box limits bb_y Numeric vector y bounding box limits col_var Column use coloring n_breaks Number legend breaks breaks Optional custom breaks vector var_labels Named character vector mapping vars display labels pillar_mapping Named character vector mapping vars pillars","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/build_display_sf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualization Functions — build_display_sf","text":"sf object mapping printed tmap plots","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/build_display_sf.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualization Functions — build_display_sf","text":"","code":"if (FALSE) { # \\dontrun{ sf_data <- build_display_sf(cascaded, geopolys, var = \"beds\", years = 2020:2024) plot_best_by_country_level(cascaded, geopolys, var = \"beds\", years = 2020:2024) } # }"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/cascade_to_nuts2_and_compute.html","id":null,"dir":"Reference","previous_headings":"","what":"Data Cascading Functions — cascade_to_nuts2_and_compute","title":"Data Cascading Functions — cascade_to_nuts2_and_compute","text":"Functions cascading data NUTS0/NUTS1 NUTS2 level. cascade_to_nuts2_and_compute also computes derived indicators (DA, rLOS). cascade_to_nuts2_light simpler version pre-computed scores. balance_panel ensures geo-year combinations exist.","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/cascade_to_nuts2_and_compute.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Cascading Functions — cascade_to_nuts2_and_compute","text":"","code":"cascade_to_nuts2_and_compute(data, vars = c(\"disch_inp\", \"disch_day\",    \"beds\", \"physicians\", \"los\"), years = NULL, nuts2_ref = NULL,    nuts_year = 2024) cascade_to_nuts2_light(data, vars, nuts2_ref, years = NULL, agg = dplyr::first) balance_panel(data, vars, years, fill_direction = \"downup\")"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/cascade_to_nuts2_and_compute.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Data Cascading Functions — cascade_to_nuts2_and_compute","text":"data Dataframe 'geo', 'year', variable columns vars Character vector variable names cascade years Integer vector years include nuts2_ref Reference table get_nuts2_ref() nuts_year Integer year NUTS classification agg Aggregation function duplicates fill_direction Direction filling (\"downup\", \"\", \"\")","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/cascade_to_nuts2_and_compute.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Data Cascading Functions — cascade_to_nuts2_and_compute","text":"Dataframe cascaded values NUTS2 level","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/cascade_to_nuts2_and_compute.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Data Cascading Functions — cascade_to_nuts2_and_compute","text":"","code":"if (FALSE) { # \\dontrun{ cascaded <- cascade_to_nuts2_and_compute(all_data, nuts2_ref = nuts2_ref) } # }"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/export_to_geojson.html","id":null,"dir":"Reference","previous_headings":"","what":"Export Functions — export_to_geojson","title":"Export Functions — export_to_geojson","text":"Functions exporting data various formats including GeoJSON Tableau, Excel, RDS. Also includes helper functions variable labels mappings.","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/export_to_geojson.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Export Functions — export_to_geojson","text":"","code":"export_to_geojson(sf_data, filepath, crs = 4326) export_to_excel(df, filepath) export_to_rds(obj, filepath) save_maps_to_pdf(plot_fn, filepath, width = 12, height = 8, ...) enrich_for_tableau(sf_data, pop_data = NULL, nuts2_names = NULL,    var_col = \"var\", value_col = \"value\") health_var_labels() health_pillar_mapping() cod_labels()"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/export_to_geojson.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Export Functions — export_to_geojson","text":"sf_data sf object export df Dataframe export obj Object export filepath Character path output file crs Integer EPSG code (default: 4326) plot_fn Function generates plots width PDF width inches height PDF height inches ... Additional arguments passed plot_fn pop_data Population dataframe nuts2_names Name lookup dataframe var_col Name variable column value_col Name value column","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/export_to_geojson.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Export Functions — export_to_geojson","text":"Invisibly returns filepath, named character vector label functions","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/export_to_geojson.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Export Functions — export_to_geojson","text":"","code":"if (FALSE) { # \\dontrun{ export_to_geojson(sf_data, \"output/data.geojson\") export_to_excel(df, \"output/data.xlsx\") } # } health_var_labels() #>                        score_cod_standardised_rate_res_tr  #>                     \"Standardized causes of death (rate)\"  #>                                  score_cod_pyll_3y_res_tr  #>           \"Potential Years of Life Lost (3-year average)\"  #>                              score_infant_mortality_rt_tr  #>                                 \"Infant mortality (rate)\"  #>                                            health_outcome  #>                             \"Health Outcomes (composite)\"  #>                                                 score_E_E  #>                        \"Enabling Environment (Composite)\"  #>                                                physicians  #>                       \"Physicians per 100000 inhabitants\"  #>                                                      beds  #>                             \"Beds per 100000 inhabitants\"  #>                                           score_TOOEFW_tr  #>      \"Too expensive or too far to travel or waiting list\"  #>                                           score_HOPING_tr  #> \"Wanted to wait and see if problem got better on its own\"  #>                                         score_NO_UNMET_tr  #>                               \"No unmet needs to declare\"  #>                                       score_health_percep  #>                           \"Health Perception (Composite)\"  health_pillar_mapping() #>          score_cod_standardised_rate_res_tr  #>                           \"Health Outcomes\"  #>                    score_cod_pyll_3y_res_tr  #>                           \"Health Outcomes\"  #>                score_infant_mortality_rt_tr  #>                           \"Health Outcomes\"  #>                              health_outcome  #>                           \"Health Outcomes\"  #>                                   score_E_E  #>                      \"Enabling Environment\"  #>                                  physicians  #>                      \"Enabling Environment\"  #>                                        beds  #>                      \"Enabling Environment\"  #>                             score_TOOEFW_tr  #> \"Health Perception (Reason of unmet needs)\"  #>                             score_HOPING_tr  #> \"Health Perception (Reason of unmet needs)\"  #>                           score_NO_UNMET_tr  #> \"Health Perception (Reason of unmet needs)\"  #>                         score_health_percep  #> \"Health Perception (Reason of unmet needs)\""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/get_nuts2.html","id":null,"dir":"Reference","previous_headings":"","what":"Eurostat Data Fetching Functions — get_nuts2","title":"Eurostat Data Fetching Functions — get_nuts2","text":"Functions fetching data Eurostat API various NUTS levels. get_nuts_level_robust includes retry logic failed requests. fetch_eurostat_batch fetches multiple datasets .","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/get_nuts2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Eurostat Data Fetching Functions — get_nuts2","text":"","code":"get_nuts2(code, years = NULL) get_nuts_level(code, level = 2, years = NULL) get_nuts_level_robust(code, level = 2, years = NULL) get_nuts_level_safe(code, level = 2, years = NULL) fetch_eurostat_batch(codes, level = 2, years = NULL, robust = TRUE) drop_empty(x)"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/get_nuts2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Eurostat Data Fetching Functions — get_nuts2","text":"code Character string Eurostat dataset code codes Named character vector Eurostat dataset codes level Integer NUTS level (0, 1, 2, 3) years Integer vector years filter robust Logical, whether use robust fetching retry logic x List dataframes","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/get_nuts2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Eurostat Data Fetching Functions — get_nuts2","text":"Dataframe list dataframes Eurostat data","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/get_nuts2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Eurostat Data Fetching Functions — get_nuts2","text":"","code":"if (FALSE) { # \\dontrun{ beds_data <- get_nuts2(\"hlth_rs_bdsrg2\", years = 2015:2023) data_list <- fetch_eurostat_batch(health_system_codes(), level = 2) } # }"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/get_nuts2_ref.html","id":null,"dir":"Reference","previous_headings":"","what":"NUTS Reference Data Functions — get_nuts2_ref","title":"NUTS Reference Data Functions — get_nuts2_ref","text":"Functions fetching NUTS reference geometries, lookup tables, population data.","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/get_nuts2_ref.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"NUTS Reference Data Functions — get_nuts2_ref","text":"","code":"get_nuts2_ref(year = 2024, resolution = \"60\") get_nuts_geo(level, year = 2024, resolution = \"60\", crs = 4326) get_nuts_geopolys(year = 2024, resolution = \"60\", crs = 4326, levels = c(0, 1, 2)) get_nuts2_names(year = 2024, resolution = \"60\", countries = NULL) get_population_nuts2(years = 2000:2024, countries = NULL, fill_gaps = TRUE)"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/get_nuts2_ref.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"NUTS Reference Data Functions — get_nuts2_ref","text":"year Integer year NUTS classification (default: 2024) resolution Character resolution code (\"60\", \"20\", \"10\", \"03\", \"01\") level Integer NUTS level (0, 1, 2, 3) levels Integer vector NUTS levels include crs Integer EPSG code coordinate reference system countries Optional character vector 2-letter country codes filter years Integer vector years fill_gaps Logical, whether fill gaps using forward/backward fill","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/get_nuts2_ref.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"NUTS Reference Data Functions — get_nuts2_ref","text":"Dataframe sf object NUTS reference data","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/get_nuts2_ref.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"NUTS Reference Data Functions — get_nuts2_ref","text":"","code":"if (FALSE) { # \\dontrun{ nuts2_ref <- get_nuts2_ref() geopolys <- get_nuts_geopolys() pop <- get_population_nuts2(years = 2010:2024) } # }"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/health_system_codes.html","id":null,"dir":"Reference","previous_headings":"","what":"Eurostat Dataset Code Lists — health_system_codes","title":"Eurostat Dataset Code Lists — health_system_codes","text":"Returns named vectors common Eurostat dataset codes health system resources causes death.","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/health_system_codes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Eurostat Dataset Code Lists — health_system_codes","text":"","code":"health_system_codes() causes_of_death_codes()"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/health_system_codes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Eurostat Dataset Code Lists — health_system_codes","text":"Named character vector Eurostat dataset codes","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/health_system_codes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Eurostat Dataset Code Lists — health_system_codes","text":"","code":"health_system_codes() #>         disch_inp         disch_day          hos_days               los  #> \"hlth_co_disch2t\" \"hlth_co_disch4t\" \"hlth_co_hosdayt\"  \"hlth_co_inpstt\"  #>              beds        physicians  #>  \"hlth_rs_bdsrg2\" \"hlth_rs_physreg\"  causes_of_death_codes() #>               cod_crude_rate     cod_crude_rate_residence  #>               \"hlth_cd_acdr\"              \"hlth_cd_acdr2\"  #>    cod_standardised_rate_res        cod_crude_rate_3y_res  #>              \"hlth_cd_asdr2\"              \"hlth_cd_ycdr2\"  #>     cod_crude_rate_3y_female       cod_crude_rate_3y_male  #>              \"hlth_cd_ycdrf\"              \"hlth_cd_ycdrm\"  #>      cod_crude_rate_3y_total       cod_infant_mort_3y_occ  #>              \"hlth_cd_ycdrt\"              \"hlth_cd_yinfo\"  #>       cod_infant_mort_3y_res       cod_absolute_3y_female  #>              \"hlth_cd_yinfr\"               \"hlth_cd_ynrf\"  #>         cod_absolute_3y_male        cod_absolute_3y_total  #>               \"hlth_cd_ynrm\"               \"hlth_cd_ynrt\"  #>              cod_pyll_3y_res        cod_deaths_3y_res_occ  #>              \"hlth_cd_ypyll\"                \"hlth_cd_yro\"  #>     cod_standardised_rate_3y cod_standardised_rate_3y_res  #>              \"hlth_cd_ysdr1\"              \"hlth_cd_ysdr2\""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/interp_const_ends_flag.html","id":null,"dir":"Reference","previous_headings":"","what":"Data Interpolation and Time Utilities — interp_const_ends_flag","title":"Data Interpolation and Time Utilities — interp_const_ends_flag","text":"interp_const_ends_flag performs linear interpolation within gaps repeats endpoints, also returning flag indicating original NA values. standardize_time standardizes time column naming parses year integer.","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/interp_const_ends_flag.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Interpolation and Time Utilities — interp_const_ends_flag","text":"","code":"interp_const_ends_flag(y) standardize_time(df)"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/interp_const_ends_flag.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Data Interpolation and Time Utilities — interp_const_ends_flag","text":"y Numeric vector interpolate df Dataframe 'time' 'TIME_PERIOD' column","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/interp_const_ends_flag.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Data Interpolation and Time Utilities — interp_const_ends_flag","text":"interp_const_ends_flag: List 'value' (interpolated) 'flag' (1 NA) standardize_time: Dataframe standardized 'time' 'year' columns","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/interp_const_ends_flag.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Data Interpolation and Time Utilities — interp_const_ends_flag","text":"","code":"result <- interp_const_ends_flag(c(NA, 10, NA, NA, 20, NA)) result$value #> [1] 10.00000 10.00000 13.33333 16.66667 20.00000 20.00000 result$flag #> [1] 1 0 1 1 0 1"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/keep_eu27.html","id":null,"dir":"Reference","previous_headings":"","what":"EU27 Country Filtering and Naming Functions — keep_eu27","title":"EU27 Country Filtering and Naming Functions — keep_eu27","text":"Functions filtering data EU27 countries adding country names.","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/keep_eu27.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"EU27 Country Filtering and Naming Functions — keep_eu27","text":"","code":"keep_eu27(df, extra = c(\"NO\", \"IS\")) eu27_codes() nuts_country_names() add_country_name(df, geo_col = \"geo\", out_col = \"Country\")"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/keep_eu27.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"EU27 Country Filtering and Naming Functions — keep_eu27","text":"df Dataframe 'geo' column containing NUTS codes extra Character vector additional 2-letter country codes include geo_col Name geo column (default: \"geo\") out_col Name output country column (default: \"Country\")","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/keep_eu27.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"EU27 Country Filtering and Naming Functions — keep_eu27","text":"keep_eu27: Filtered dataframe eu27_codes: Character vector EU27 country codes nuts_country_names: Named character vector mapping codes country names add_country_name: Dataframe added country name column","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/keep_eu27.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"EU27 Country Filtering and Naming Functions — keep_eu27","text":"","code":"eu27_codes() #>  [1] \"AT\" \"BE\" \"BG\" \"HR\" \"CY\" \"CZ\" \"DK\" \"EE\" \"FI\" \"FR\" \"DE\" \"EL\" \"HU\" \"IE\" \"IT\" #> [16] \"LV\" \"LT\" \"LU\" \"MT\" \"NL\" \"PL\" \"PT\" \"RO\" \"SK\" \"SI\" \"ES\" \"SE\" nuts_country_names() #>                AT                BE                BG                HR  #>         \"Austria\"         \"Belgium\"        \"Bulgaria\"         \"Croatia\"  #>                CY                CZ                DK                EE  #>          \"Cyprus\"         \"Czechia\"         \"Denmark\"         \"Estonia\"  #>                FI                FR                DE                EL  #>         \"Finland\"          \"France\"         \"Germany\"          \"Greece\"  #>                GR                HU                IE                IT  #>          \"Greece\"         \"Hungary\"         \"Ireland\"           \"Italy\"  #>                LV                LT                LU                MT  #>          \"Latvia\"       \"Lithuania\"      \"Luxembourg\"           \"Malta\"  #>                NL                PL                PT                RO  #>     \"Netherlands\"          \"Poland\"        \"Portugal\"         \"Romania\"  #>                SK                SI                ES                SE  #>        \"Slovakia\"        \"Slovenia\"           \"Spain\"          \"Sweden\"  #>                NO                IS                CH                UK  #>          \"Norway\"         \"Iceland\"     \"Switzerland\"  \"United Kingdom\"  #>                GB                RS                TR                ME  #>  \"United Kingdom\"          \"Serbia\"         \"Turkiye\"      \"Montenegro\"  #>                MK                AL  #> \"North Macedonia\"         \"Albania\""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/localintel-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Local Intelligence for Subnational Data Analysis — localintel-package","title":"Local Intelligence for Subnational Data Analysis — localintel-package","text":"comprehensive pipeline fetching, processing, visualizing subnational (NUTS 0/1/2) data Eurostat. package provides tools data fetching, cascading higher lower NUTS levels, computing composite health indicators, creating publication-ready maps, exporting data Tableau visualization tools.","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/localintel-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Local Intelligence for Subnational Data Analysis — localintel-package","text":"Main Functions: Data Fetching: get_nuts2, get_nuts_level, fetch_eurostat_batch Reference Data: get_nuts2_ref, get_nuts_geopolys, get_population_nuts2 Data Cascading: cascade_to_nuts2_and_compute, cascade_to_nuts2_light Visualization: build_display_sf, plot_best_by_country_level Export: export_to_geojson, enrich_for_tableau","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/localintel-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Local Intelligence for Subnational Data Analysis — localintel-package","text":"Mohamed Htitich m.ahtitich@outlook.com","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/process_beds.html","id":null,"dir":"Reference","previous_headings":"","what":"Data Processing Functions — process_beds","title":"Data Processing Functions — process_beds","text":"Functions processing transforming Eurostat health data.","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/process_beds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Processing Functions — process_beds","text":"","code":"process_beds(df, unit = \"P_HTHAB\") process_physicians(df, unit = \"P_HTHAB\") process_los(df, unit = \"NR\", icd10 = \"A-T_Z_XNB\", age = \"TOTAL\", sex = \"T\") process_hos_days(df, unit = \"NR\", icd10 = \"A-T_Z_XNB\", age = \"TOTAL\", sex = \"T\") process_disch_inp(df, unit = c(\"P_HTHAB\", \"P100TH\"), icd10 = \"A-T_Z_XNB\",    age = \"TOTAL\", sex = \"T\") process_disch_day(df, unit = c(\"P_HTHAB\", \"P100TH\"), icd10 = \"A-T_Z_XNB\",    age = \"TOTAL\", sex = \"T\") process_cod(df, unit = \"RT\", icd10 = \"A-R_V-Y\", age = \"TOTAL\", sex = \"T\",    out_col = \"cod_rate\") process_health_perceptions(df, years_full = 2008:2024) merge_datasets(..., by = c(\"geo\", \"year\"), join_type = \"full\") compute_composite(df, score_cols, out_col = \"composite_score\") transform_and_score(df, transforms)"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/process_beds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Data Processing Functions — process_beds","text":"df Raw dataframe Eurostat unit Unit filter icd10 ICD-10 filter age Age group filter sex Sex filter out_col Name output value column years_full Integer vector years include ... Named dataframes merge Character vector join columns join_type Type join: \"full\", \"left\", \"inner\" score_cols Character vector column names average transforms Named list transformation expressions","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/process_beds.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Data Processing Functions — process_beds","text":"Processed dataframe","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/process_beds.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Data Processing Functions — process_beds","text":"","code":"if (FALSE) { # \\dontrun{ beds <- process_beds(data_list$beds) merged <- merge_datasets(beds, physicians, los) } # }"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/safe_log10.html","id":null,"dir":"Reference","previous_headings":"","what":"Safe Logarithm and Scaling Functions — safe_log10","title":"Safe Logarithm and Scaling Functions — safe_log10","text":"Utility functions safe logarithm transformations min-max scaling. safe_log10 safe_log2 return NA non-positive values. scale_0_100 (alias rescale_minmax) scales values 0-100 range.","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/safe_log10.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Safe Logarithm and Scaling Functions — safe_log10","text":"","code":"safe_log10(x) safe_log2(x) scale_0_100(x) rescale_minmax(x)"},{"path":"https://mohamedhtitich1.github.io/localintel/reference/safe_log10.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Safe Logarithm and Scaling Functions — safe_log10","text":"x Numeric vector","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/safe_log10.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Safe Logarithm and Scaling Functions — safe_log10","text":"Numeric vector transformed values","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/reference/safe_log10.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Safe Logarithm and Scaling Functions — safe_log10","text":"","code":"safe_log10(c(1, 10, 100, 0, -5, NA)) #> Warning: NaNs produced #> [1]  0  1  2 NA NA NA safe_log2(c(1, 2, 4, 0, -5, NA)) #> Warning: NaNs produced #> [1]  0  1  2 NA NA NA scale_0_100(c(10, 20, 30, 40, 50)) #> [1]   0  25  50  75 100"},{"path":[]},{"path":[]},{"path":"https://mohamedhtitich1.github.io/localintel/news/index.html","id":"new-features-0-1-0","dir":"Changelog","previous_headings":"Initial Release","what":"New Features","title":"localintel 0.1.0","text":"get_nuts2(): Fetch NUTS2 level data Eurostat get_nuts_level(): Fetch data NUTS level (0, 1, 2, 3) get_nuts_level_robust(): Fetch retry logic fetch_eurostat_batch(): Fetch multiple datasets Pre-defined code lists: health_system_codes(), causes_of_death_codes() get_nuts2_ref(): NUTS2 reference table parent codes get_nuts_geopolys(): Combined NUTS 0/1/2 geometries get_nuts2_names(): Region name lookup get_population_nuts2(): Population data cascade_to_nuts2_and_compute(): Full cascade indicator computation (DA, rLOS) cascade_to_nuts2_light(): Simple cascading pre-computed scores balance_panel(): Fill missing year-geo combinations Processing functions Eurostat datasets: process_beds(), process_physicians(), etc. merge_datasets(): Combine multiple datasets transform_and_score(): Apply transformations scale 0-100 compute_composite(): Calculate composite scores keep_eu27(): Filter EU27 countries safe_log10(), safe_log2(): Safe logarithm functions scale_0_100(): Min-max normalization interp_const_ends_flag(): Linear interpolation flags add_country_name(): Add country names NUTS codes build_display_sf(): Build SF best-level display lc_build_display_sf(): Version life course data grouping plot_best_by_country_level(): Create tmap visualizations build_multi_var_sf(): Combine multiple variables Tableau export_to_geojson(): GeoJSON export Tableau enrich_for_tableau(): Add metadata Tableau dashboards export_to_excel(): Excel export save_maps_to_pdf(): Multi-page PDF maps","code":""},{"path":"https://mohamedhtitich1.github.io/localintel/news/index.html","id":"documentation-0-1-0","dir":"Changelog","previous_headings":"Initial Release","what":"Documentation","title":"localintel 0.1.0","text":"Complete package documentation roxygen2 README installation quick start guide Example workflow script inst/examples/","code":""}]
