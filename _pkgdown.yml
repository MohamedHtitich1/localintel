url: https://mohamedhtitich1.github.io/localintel/

development:
  mode: auto

template:
  package: pkgdown
  bootstrap: 5
  bootswatch: flatly
  bslib:
    primary: "#7c9885"
    secondary: "#3a3f42"
    success: "#9ab8a3"
    info: "#7cb08a"
    bg: "#f4f7f5"
    fg: "#1a1d1c"
    border-radius: 0.5rem
    btn-border-radius: 0.25rem
    font-size-base: 1rem
    base_font:
      google: "IBM Plex Sans"
    heading_font:
      google: "EB Garamond"
    code_font:
      google: "JetBrains Mono"
  includes:
    in_header: |
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=IBM+Plex+Sans:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    in_body: |
      <script>
      document.addEventListener("DOMContentLoaded", function() {
        var icons = {
          "Package Overview":  '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#7c9885" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m7.5 4.27 9 5.15"/><path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"/><path d="m3.3 7 8.7 5 8.7-5"/><path d="M12 22V12"/></svg>',
          "Data Fetching":     '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#7c9885" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5v14a9 3 0 0 0 18 0V5"/><path d="M3 12a9 3 0 0 0 18 0"/></svg>',
          "Reference Data":    '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#7c9885" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>',
          "Data Processing":   '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#7c9885" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v16a2 2 0 0 0 2 2h16"/><path d="m19 9-5 5-4-4-3 3"/></svg>',
          "Data Cascading":    '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#7c9885" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="18" r="3"/><circle cx="6" cy="6" r="3"/><path d="M6 21V9a9 9 0 0 0 9 9"/></svg>',
          "Visualization":     '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#7c9885" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"/><line x1="9" x2="9" y1="3" y2="18"/><line x1="15" x2="15" y1="6" y2="21"/></svg>',
          "Export":            '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#7c9885" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" x2="12" y1="3" y2="15"/></svg>',
          "Utilities":         '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#7c9885" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>'
        };
        document.querySelectorAll(".section h2").forEach(function(h2) {
          var title = h2.textContent.trim();
          if (icons[title]) {
            h2.innerHTML = '<span class="ref-icon">' + icons[title] + '</span> ' + h2.innerHTML;
          }
        });
      });
      </script>

home:
  title: "localintel – Subnational Data Pipeline for Eurostat NUTS Regions"
  description: >
    An R package for fetching, processing, and visualizing subnational
    (NUTS 0/1/2) data from Eurostat. Designed for health system analysis
    across European regions.
  links:
    - text: Live Demo — Subnational Health Disparities Map
      href: https://mhtitich.com/subnational
    - text: Request a custom deployment
      href: mailto:m.ahtitich@outlook.com

authors:
  Mohamed Htitich:
    href: https://mhtitich.com

navbar:
  bg: "#050507"
  type: dark
  structure:
    left:  [intro, reference, articles, news]
    right: [search, demo, github, website]
  components:
    demo:
      icon: fa-play-circle
      href: https://mhtitich.com/subnational
      aria-label: "Live Demo"
      text: " Demo"
    github:
      icon: fa-github
      href: https://github.com/MohamedHtitich1/localintel
      aria-label: GitHub
    website:
      icon: fa-globe
      href: https://mhtitich.com
      aria-label: "Author Website"

reference:
  - title: "Package Overview"
    contents:
      - localintel-package

  - title: "Data Fetching"
    desc: >
      Robust wrappers for the Eurostat API — fetch single or batch
      datasets at any NUTS level with automatic retry and caching.
    contents:
      - get_nuts2
      - get_nuts_level
      - get_nuts_level_robust
      - get_nuts_level_safe
      - fetch_eurostat_batch
      - drop_empty
      - health_system_codes
      - causes_of_death_codes

  - title: "Reference Data"
    desc: >
      NUTS boundary geometries, hierarchical lookup tables, and
      population data for spatial joins and cascading.
    contents:
      - get_nuts_geo
      - get_nuts_geopolys
      - get_nuts2_ref
      - get_nuts2_names
      - get_population_nuts2
      - eu27_codes

  - title: "Data Processing"
    desc: >
      Transform raw Eurostat downloads into analysis-ready tables —
      one function per dataset, plus merging and composite scoring.
    contents:
      - process_beds
      - process_physicians
      - process_disch_inp
      - process_disch_day
      - process_hos_days
      - process_los
      - process_cod
      - process_health_perceptions
      - merge_datasets
      - transform_and_score
      - compute_composite

  - title: "Data Cascading"
    desc: >
      Fill missing regional data by propagating from parent NUTS
      levels (NUTS0 → NUTS1 → NUTS2) with source-level tracking.
    contents:
      - cascade_to_nuts2_and_compute
      - cascade_to_nuts2_light
      - balance_panel

  - title: "Visualization"
    desc: >
      Build spatial objects and render publication-ready tmap
      facets — automatic best-level selection per country-year.
    contents:
      - build_display_sf
      - lc_build_display_sf
      - plot_best_by_country_level
      - build_multi_var_sf
      - level_col_for
      - level_cols_for

  - title: "Export"
    desc: >
      Export enriched GeoJSON for Tableau, multi-sheet Excel workbooks,
      RDS snapshots, and multi-page PDF map books.
    contents:
      - export_to_geojson
      - enrich_for_tableau
      - export_to_excel
      - export_to_rds
      - save_maps_to_pdf
      - health_var_labels
      - health_pillar_mapping
      - cod_labels

  - title: "Utilities"
    desc: >
      Helper functions for safe transformations, min-max scaling,
      interpolation, EU27 filtering, and country-name enrichment.
    contents:
      - keep_eu27
      - safe_log10
      - safe_log2
      - scale_0_100
      - rescale_minmax
      - interp_const_ends_flag
      - standardize_time
      - nuts_country_names
      - add_country_name

articles:
  - title: "Getting Started"
    navbar: "Getting Started"
    contents:
      - localintel
  - title: "Tutorials"
    navbar: "Tutorials"
    contents:
      - workflow
  - title: "Help"
    navbar: "FAQ"
    contents:
      - faq

footer:
  structure:
    left: developed_by
    right: built_with
  components:
    developed_by: >
      Developed by [Mohamed Htitich](https://mhtitich.com)
      · [GitHub](https://github.com/MohamedHtitich1)
      · [ORCID](https://orcid.org/0000-0002-8732-6286)
      · [Live Demo](https://mhtitich.com/subnational)

news:
  one_page: true
